<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nebula</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <link rel="stylesheet" href="assets/css/main-page.css">
    <script>
        let isPPressed = localStorage.getItem('isPPressed') === 'true';

        function checkUserAgent() {
            const userAgent = navigator.userAgent;

            if (!userAgent.includes('CrOS')) {
                if (!isPPressed) {
                    document.title = "Redirecting...";
                    showExcerptAndRedirect();
                } else {
                    showGameContainer();
                }
            } else {
                showGameContainer();
            }
        }

        function showGameContainer() {
            document.querySelector('.game-container').classList.remove('hidden');
            document.querySelector('.header').classList.remove('hidden');
        }

        function showExcerptAndRedirect() {
            document.querySelector('.header').classList.add('hidden');
            document.querySelector('.game-container').classList.add('hidden');

            const excerpt = "Itâ€™s true! Yes, I have been illâ€”very ill. But why will you say that I am mad? The disease had sharpened my sensesâ€”not destroyedâ€”not dulled them. Above all was the sense of hearing acute. I heard all things in the heaven and in the earth. I heard many things in hell. How, then, am I mad? Hearken! and observe how healthilyâ€”how calmly I tell you the whole story.\n\n" +
                            "It is impossible to say how first the idea entered my brain; but once conceived, it haunted me. You should have seen me. I would have laughed at what you would call the disease. I could not sleep. I had not lost my mind; I had but to use my own; I had to make it part of me...";

            const excerptContainer = document.createElement('div');
            excerptContainer.className = 'excerpt-container';
            excerptContainer.innerText = excerpt;

            document.body.appendChild(excerptContainer);

            setTimeout(() => {
                if (!isPPressed) {
                    window.location.href = 'https://error.org';
                } else {
                    showGameContainer();
                }
            }, 1000);
        }

        window.onload = checkUserAgent;

        document.addEventListener('keydown', function(event) {
            if (event.key === 'P' || event.key === 'p') {
                event.preventDefault();
                isPPressed = true;
                localStorage.setItem('isPPressed', 'true');
                alert("You pressed the P key, but no redirect will happen.");
                
                const excerptContainer = document.querySelector('.excerpt-container');
                if (excerptContainer) {
                    excerptContainer.remove();
                }

                document.title = "Nebula";
                showGameContainer();
            }
        });
    </script>
</head>
<body>
    <div class="header hidden">
        <h1>Nebula ðŸŒŒ</h1>
    </div>

    <div class="game-container hidden">
        <h1>Select a Game</h1>
        <ul class="game-list">
            <!-- Random Shit --> 
            <li>
                <a href="assets/form.html">
                    <img src="assets/img/form.png" alt="Contact Me">
                    <span>Google Forms (Contact)</span>
                </a>
            </li>

            <li>
                <a href="emulator/emulator.html">
                    <img src="assets/img/emulator.webp" alt="Game Emulator">
                    <span>Emulator (Classic Games)</span>
                </a>
            </li>

            <li>
                <a href="games/run-movie.html">
                    <img src="assets/img/watch cool movies.png" alt="Movies">
                    <span>Movies</span>
                </a>
            </li>

            <!-- HTML5 Games --> 
            <li>
                <a href="games/html5/eaglercraft-188/run.html">
                    <img src="assets/img/minecraft188.jpg" alt="Minecraft 1.8.8">
                    <span>Minecraft 1.8.8</span>
                </a>
            </li>

            <li>
                <a href="games/html5/eaglercraft-152/run.html">
                    <img src="assets/img/minecraft152.webp" alt="Minecraft 1.5.2">
                    <span>Minecraft 1.5.2</span>
                </a>
            </li>

            <li>
                <a href="games/html5/eaglercraft-beta-173/run.html">
                    <img src="assets/img/beta.jpg" alt="Minecraft Beta 1.7.3">
                    <span>Minecraft Beta 1.7.3</span>
                </a>
            </li>

            <li>
                <a href="games/html5/eaglercraft-indev/run.html">
                    <img src="assets/img/637115415571842348.png" alt="Minecraft Indev">
                    <span>Minecraft Indev</span>
                </a>
            </li>

            <li>
                <a href="games/html5/sm64/run.html">
                    <img src="assets/img/sm64.jpeg" alt="Super Mario 64">
                    <span>Super Mario 64</span>
                </a>
            </li>

            <li>
                <a href="games/html5/2048/run.html">
                    <img src="assets/img/2048_logo.svg.webp" alt="2048">
                    <span>2048</span>
                </a>
            </li>

            <li>
                <a href="games/html5/tetris/run.html">
                    <img src="assets/img/cover.png" alt="Tetris">
                    <span>Tetris</span>
                </a>
            </li>

            <li>
                <a href="games/html5/dinosaur-game/run.html">
                    <img src="assets/img/chrome-dino.png" alt="Chrome Dinosaur">
                    <span>Chrome Dinosaur</span>
                </a>
            </li>

            <li>
                <a href="games/html5/snow-rider-3d/run.html">
                    <img src="assets/img/snow-rider-3d.avif" alt="Snow Rider 3D">
                    <span>Snow Rider 3D</span>
                </a>
            </li>

            <li>
                <a href="games/html5/cookie-clicker/run.html">
                    <img src="assets/img/CLICK THE FUCKING COOKIE.jpg" alt="Cookie Clicker">
                    <span>Cookie Clicker</span>
                </a>
            </li>

            <li>
                <a href="games/html5/breaklock/run.html">
                    <img src="assets/img/256x256bb.jpg" alt="BreakLock">
                    <span>BreakLock</span>
                </a>
            </li>

            <!-- Flash Games --> 
            <li>
                <a href="games/flash/pac-man/run.html">
                    <img src="assets/img/Pac-Man_-_Adventures_in_Time_Coverart.png" alt="Pac-Man">
                    <span>Pac-Man</span>
                </a>
            </li>

            <li>
                <a href="games/flash/the-game/run.html">
                    <img src="assets/img/the game.webp" alt="the game">
                    <span>:the game:</span>
                </a>
            </li>

            <li>
                <a href="games/flash/btd-5/run.html">
                    <img src="assets/img/Bloons_TD_5_Icon.webp" alt="Bloons Tower Defense 5">
                    <span>Bloons Tower Defense 5</span>
                </a>
            </li>

            <li>
                <a href="games/flash/run-3/run.html">
                    <img src="assets/img/run 3.avif" alt="Run 3">
                    <span>Run 3</span>
                </a>
            </li>

            <li>
                <a href="games/flash/quake/run.html">
                    <img src="assets/img/quake.jfif" alt="quake">
                    <span>Quake</span>
                </a>
            </li>
        </ul>
    </div>
</body>
</html>